# Реестр рисков

| ID | Риск | Вероятность | Влияние | Приоритет | Стратегия | Связь с потоком/NFR | Владелец | Срок | Критерий закрытия |
|----|------|-------------|---------|-----------|-----------|---------------------|----------|------|-------------------|
| R-01 | Злоумышленник подбирает пароль пользователя через брутфорс | Высокая | Высокое | Высокий | Снизить | F1, NFR-06 | @Tengir | P04 | Rate limiting внедрён, тест написан |
| R-02 | Пользователь получает доступ к чужим колодам через изменение deck_id | Средняя | Высокое | Высокий | Снизить | F4, F9, NFR-02 | @Tengir | P04 | Owner-only проверка внедрена, IDOR-тест написан |
| R-03 | Злоумышленник получает внутренние детали системы из stack trace в ошибках | Средняя | Среднее | Средний | Снизить | F31, NFR-04 | @Tengir | P03 | Единый формат ошибок внедрён, тест написан |
| R-04 | Злоумышленник внедряет SQL-код через входные данные | Низкая | Высокое | Высокий | Снизить | F11-F16, NFR-03 | @Tengir | P03 | Валидация данных внедрена, параметризованные запросы |
| R-05 | Пароли хранятся в открытом виде, при утечке БД все пароли скомпрометированы | Средняя | Высокое | Высокий | Снизить | F11, NFR-05 | @Tengir | P04 | Bcrypt хеширование внедрено, тест написан |
| R-06 | Злоумышленник использует поддельный JWT токен для доступа к API | Средняя | Высокое | Высокий | Снизить | F2-F5, F6, NFR-10 | @Tengir | P04 | Проверка подписи JWT внедрена, тест написан |
| R-07 | Секретный ключ JWT хранится в коде и попадает в git | Средняя | Высокое | Высокий | Снизить | Auth Service, NFR-10 | @Tengir | P03 | Секреты перенесены в env vars, CI проверяет на секреты |
| R-08 | Злоумышленник перегружает сервер множественными запросами | Средняя | Среднее | Средний | Снизить | F1-F5, NFR-06 | @Tengir | P04 | Rate limiting на критичных endpoints, тест написан |
| R-09 | Нет логов для расследования инцидентов безопасности | Низкая | Среднее | Средний | Снизить | F6, NFR-08 | @Tengir | P06 | Логирование запросов внедрено, тест написан |
| R-10 | Пользователь отправляет некорректные данные, которые не валидируются | Средняя | Среднее | Средний | Снизить | F1-F5, NFR-03 | @Tengir | P03 | Валидация Pydantic на всех endpoints, тест написан |
| R-11 | Злоумышленник получает права администратора через изменение роли | Низкая | Высокое | Высокий | Снизить | Auth Service, NFR-02 | @Tengir | P04 | Проверка роли внедрена, тест написан |
| R-12 | API отвечает медленно, пользователь не может работать с карточками | Низкая | Среднее | Средний | Принять | F2-F5, NFR-01 | @Tengir | P05 | Производительность измерена, метрики в пределах нормы |
